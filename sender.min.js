$(document).ready((function(){function functionToLoadFile(){$.ajax({url:"temp.txt",dataType:"text",success:function(response){$("#result").html(response)}})}var interval,request;$("#patb").click((function(){$("#az").prop("checked")||$("#AZ").prop("checked")||$("#09").prop("checked")&&""!=$("#len").val()?($("#patval").val(""),$("#patval").val($("#patval").val()+"##"),$("#az").prop("checked")&&$("#patval").val($("#patval").val()+"az-"),$("#AZ").prop("checked")&&$("#patval").val($("#patval").val()+"AZ-"),$("#09").prop("checked")&&$("#patval").val($("#patval").val()+"09-"),""!=$("#len").val()&&$("#patval").val($("#patval").val()+"{"+$("#len").val()+"}"),$("#patval").val($("#patval").val()+"##")):$("#patval").val("")})),$("#add").click((function(){return $("#my_smtp").val($("#my_smtp").val()+$("#ip").val()+"|"+$("#ssl_port").val()+"|"+$("#user").val()+"|"+$("#pass").val()+"|"+$("input[name=SSLTLS]:checked").val()),$("input[name=isbcc]").prop("checked")?$("#my_smtp").val($("#my_smtp").val()+"|BCC"):$("#my_smtp").val($("#my_smtp").val()+"|NOBCC"),$("#my_smtp").val($("#my_smtp").val()+"\n"),$("#user").val(""),$("#ip").val(""),$("#pass").val(""),$("input[name=SSLTLS]").prop("checked",!1),!1})),$("#reset").click((function(){return $("#my_smtp").val(""),!1})),$("input[name=lase]").click((function(){$("input[name=lase]").prop("checked")?($("input[name=from]").attr("disabled","disabled"),$("input[name=from]").val(""),$("input[name=from]").attr("required",!1)):$("input[name=from]").removeAttr("disabled"),$("input[name=from]").attr("required",!0)})),$("input[name=repaslog]").click((function(){$("input[name=repaslog]").prop("checked")?($("input[name=replyto]").attr("disabled","disabled"),$("input[name=replyto]").val("")):$("input[name=replyto]").removeAttr("disabled")})),$("#form").submit((function(event){$("#start").attr("disabled",!0),$("#stop").attr("disabled",!1),event.preventDefault(),$("#result").html("");var $form,$inputs=$(this).find("input, select, button, textarea"),serializedData=new FormData(this);interval=setInterval(functionToLoadFile,1e3),$inputs.prop("disabled",!0),(request=$.ajax({url:"?sending=1",type:"post",data:serializedData,processData:!1,contentType:!1})).done((function(response,textStatus,jqXHR){$("#result").html(response),$("#start").attr("disabled",!1),$("#stop").attr("disabled",!0),clearInterval(interval)})),request.fail((function(jqXHR,textStatus,errorThrown){console.error("The following error occurred: "+errorThrown),$("#start").attr("disabled",!1),$("#stop").attr("disabled",!0),clearInterval(interval)})),request.always((function(){$inputs.prop("disabled",!1),$("#start").attr("disabled",!1),$("#stop").attr("disabled",!0),clearInterval(interval)}))})),$("#stop").click((function(){request.abort(),functionToLoadFile(),$(this).attr("disabled",!0),$("#start").attr("disabled",!1),clearInterval(interval)})),$("#my_smtp").on("change keyup paste",(function(){var text,lines,count=$("#my_smtp").val().split(/\r|\r\n|\n/).length;1==count&&""==$("#my_smtp").val()&&(count=0),$("#smtplistnums").text(count)})),$("#emaillist").on("change keyup paste",(function(){var text=$("#emaillist").val(),lines,count=text.split(/\r|\r\n|\n/).length;1==count&&""==text&&(count=0),$("#emaillistnums").text(count)}))}));